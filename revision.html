<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Learn AI | Tests & Assignments</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/python/python.min.js"></script>

<style>
/* ---------------------------------- */
/* 1. Global & Base Styles */
/* ---------------------------------- */
body { font-family: Arial, sans-serif; background: #f5fff5; margin:0; padding:0; color:#222; }
h2,h3 { color:#2e7d32; text-align:center;}
p { text-align:center; color:#444;}
footer { text-align:center; color:#555; margin-top:60px; font-size:13px; padding-bottom:30px;}

/* ---------------------------------- */
/* 2. Header & Navigation (Sidebar) */
/* ---------------------------------- */
header { background:#2e7d32; color:white; padding:15px 20px; display:flex; justify-content:space-between; align-items:center; position: sticky; top: 0; z-index: 100;}
header h1 { margin:0; font-size:22px; }

.menu-icon { font-size:26px; cursor:pointer;}

/* Sidebar Styles */
.sidebar {
  height: 100%;
  width: 0;
  position: fixed;
  top: 0;
  left: 0;
  background-color: #1b5e20;
  overflow-x: hidden;
  transition: 0.4s;
  padding-top: 60px;
  z-index: 2000;
  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
}

.sidebar a {
  padding: 12px 25px;
  text-decoration: none;
  font-size: 18px;
  color: #f5fff5;
  display: block;
  transition: 0.3s;
}

.sidebar a:hover {
  background-color: #388e3c;
}

.sidebar .closebtn {
  position: absolute;
  top: 15px;
  right: 25px;
  font-size: 30px;
  cursor: pointer;
  color: white;
}

/* Floating WhatsApp Button */
.whatsapp-float { position:fixed; width:60px; height:60px; bottom:25px; right:25px; background-color:#25D366; color:white; border-radius:50%; text-align:center; font-size:28px; line-height:60px; box-shadow:2px 2px 10px rgba(0,0,0,0.3); cursor:pointer;}
.whatsapp-float:hover { background-color:#20b358;}

/* ---------------------------------- */
/* 3. Content & Assignment Components */
/* ---------------------------------- */
.container { max-width:900px; margin:40px auto; background:white; padding:30px; border-radius:10px; box-shadow:0 0 15px rgba(0,0,0,0.1);}
.question { margin-bottom:20px; padding:15px; background:#f3faf3; border-left:5px solid #2e7d32; border-radius:8px;}
label { display:block; margin:6px 0; cursor:pointer;}
input[type="radio"] { margin-right:8px; accent-color:#2e7d32;}
button { background:#2e7d32; color:white; border:none; padding:12px 25px; border-radius:8px; font-weight:bold; cursor:pointer; display:block; margin:25px auto 0; transition: background 0.3s;}
button:hover { background:#1b5e20;}
.result-box { display:none; margin-top:30px; background:#e8f5e9; padding:20px; border-radius:8px; border-left:5px solid #2e7d32; text-align:center;}
textarea,input[type="file"] { width:100%; border:1px solid #ccc; border-radius:6px; padding:10px; margin-bottom:15px; font-size:14px; background:#fff;}
canvas { border:2px dashed #ccc; display:block; margin:10px auto; width:100%; max-width:700px; height:300px; background:#fafafa; cursor:crosshair;}

/* CodeMirror specific styling to fit content */
.CodeMirror {
    height: 250px; /* Fixed height for the editor */
    border: 1px solid #ccc;
    border-radius: 6px;
}
</style>
</head>
<body>

<header>
    <span class="menu-icon" onclick="openNav()">&#9776;</span>
    <h1>Learn AI | Tests & Assignments</h1>
</header>

<div id="mySidebar" class="sidebar">
    <span class="closebtn" onclick="closeNav()">&times;</span>
    <a href="dashboard.html">Dashboard</a>
    <a href="notes.html">Notes</a>
    <a href="join_meet.html">Join Meet</a>
    <a href="about.html">About</a>
    <a href="revision.html">Revision & Assignments</a>
    <a href="https://wa.me/254707605751?text=Hello!%20I'm%20interested%20in%20the%20TeachThem%20AI/ML%20program." target="_blank">WhatsApp Me</a>
</div>

<div class="container">
    <h2>AI Quiz: 10 Questions üìù</h2>
    <p>Select your answers and submit to see your score. Test your Module 1 knowledge!</p>

    <form id="quizForm"></form>
    <button type="button" onclick="gradeQuiz()">Submit Answers</button>
    <div class="result-box" id="resultBox"></div>

    <hr style="margin:40px 0; border:1px solid #e0e0e0;">

    <div class="assignment-section">
        <h3>üßë‚Äçüíª Write Your Route Code (Flask Example)</h3>
        <p>Complete the Python function to process an incoming HTTP request.</p>
        <textarea id="codeEditor"># Write your Flask/Python route code here
# Example:
# @app.route('/predict', methods=['POST'])
# def predict():
#    data = request.get_json()
#    # Your ML model prediction logic goes here
#    return jsonify({'result': 'prediction_value'})
        </textarea>
        <button type="button" onclick="saveCode()">üíæ Save Code Locally</button>
        <p id="saveMessage" style="text-align:center; color:#1b5e20; display:none;">‚úÖ Code saved locally to your browser! (View in DevTools: localStorage)</p>
    </div>
    
    <hr style="margin:40px 0; border:1px solid #e0e0e0;">

    <div class="assignment-section">
        <h3>üìà Draw Your Model Architecture (CNN)</h3>
        <p>Use the canvas below to sketch the layers of a Convolutional Neural Network (CNN) for crop image analysis.</p>
        <canvas id="modelCanvas"></canvas>
        <button type="button" onclick="clearCanvas()">üßπ Clear Drawing</button>
    </div>

    <hr style="margin:40px 0; border:1px solid #e0e0e0;">

    <div class="assignment-section">
        <h3>üì§ Upload Final Assignment</h3>
        <p>Submit your finished Jupyter Notebook (`.ipynb`) or report (`.pdf`).</p>
        <input type="file" id="assignmentFile" accept=".ipynb,.pdf,.docx,.zip" />
        <textarea id="assignmentComment" rows="3" placeholder="Describe your assignment and mention the module it addresses (e.g., 'Module 3 Crop Health Project')..."></textarea>
        <button type="button" onclick="uploadAssignment()">Submit Assignment</button>
        <p id="uploadSuccess" style="display:none; color:#1b5e20; text-align:center;">‚úÖ Assignment uploaded successfully!</p>
    </div>
</div>

<a href="https://wa.me/254707605751" class="whatsapp-float" target="_blank">üí¨</a>
<footer>¬© 2025 LearnAI | Empowering Future Innovators</footer>

<script>
// Quiz Questions (always updating)
const questionBank = [
  {q:"What does AI stand for?", options:["Artificial Intelligence","Automated Internet","Algorithm Interface","Applied Innovation"], ans:"a"},
  {q:"Which Python library is commonly used for ML?", options:["NumPy","scikit-learn","Pandas","Matplotlib"], ans:"b"},
  {q:"What is supervised learning?", options:["Learning from labeled data","Learning without labels","Random guessing","Reinforcement only"], ans:"a"},
  {q:"Name one AI application in agriculture.", options:["Crop disease detection","Weather apps","Manual irrigation","GPS navigation"], ans:"a"},
  {q:"Which ML algorithm is used for classification?", options:["Linear Regression","Decision Tree","K-Means","PCA"], ans:"b"},
  {q:"Which library is best for deep learning?", options:["TensorFlow/PyTorch","NumPy","Matplotlib","OpenCV"], ans:"a"},
  {q:"What is overfitting?", options:["Model memorizes data","Model generalizes","Model ignores data","Random model"], ans:"a"},
  {q:"What does CNN stand for?", options:["Convolutional Neural Network","Central Neural Node","Compute Neural Net","Classified Network"], ans:"a"},
  {q:"What is gradient descent?", options:["Optimization algorithm","Data storage method","Sorting algorithm","Loss function type"], ans:"a"},
  {q:"What is transfer learning?", options:["Using pre-trained models","Training from scratch only","Random initialization","Data augmentation only"], ans:"a"}
];

// Display questions
function generateQuestions(){
  const form = document.getElementById("quizForm");
  form.innerHTML = questionBank.map((q,i)=>`
    <div class='question'>
      <h4>${i+1}. ${q.q}</h4>
      ${["a","b","c","d"].map((opt,j)=>`
        <label>
          <input type="radio" name="q${i}" value="${["a","b","c","d"][j]}">
          ${["a","b","c","d"][j]}. ${q.options[j]}
        </label>
      `).join("")}
    </div>
  `).join("");
}

// Grade Quiz
function gradeQuiz(){
  let score=0;
  questionBank.forEach((q,i)=>{
    const selected = document.querySelector(`input[name=q${i}]:checked`);
    if(selected && selected.value===q.ans) score++;
  });
  const percent = Math.round((score/questionBank.length)*100);
  const resultBox=document.getElementById("resultBox");
  resultBox.style.display="block";
  resultBox.innerHTML=`<h3>Results</h3><p>Score: ${score}/${questionBank.length} (${percent}%)</p>`;
}

// CODE EDITOR
const editor = CodeMirror.fromTextArea(document.getElementById("codeEditor"), { lineNumbers:true, mode:"python", theme:"default"});
function saveCode(){ localStorage.setItem("studentCode", editor.getValue()); document.getElementById("saveMessage").style.display="block"; setTimeout(()=>document.getElementById("saveMessage").style.display="none",2000); }

// CANVAS
const canvas=document.getElementById("modelCanvas"); const ctx=canvas.getContext("2d"); 
// Set canvas size for proper drawing area (CodeMirror size is 900px max-width)
canvas.width = 900; 
canvas.height = 300; 

let drawing=false;
canvas.addEventListener("mousedown",()=>drawing=true); 
canvas.addEventListener("mouseup",()=>drawing=false);
canvas.addEventListener("mousemove", e=>{ 
    if(!drawing) return; 
    const rect=canvas.getBoundingClientRect(); 
    // Scale mouse coordinates to match canvas drawing size
    const x = (e.clientX - rect.left) * (canvas.width / rect.width);
    const y = (e.clientY - rect.top) * (canvas.height / rect.height);
    
    ctx.fillStyle="#2e7d32"; 
    ctx.beginPath(); 
    ctx.arc(x,y,3,0,Math.PI*2); 
    ctx.fill(); 
});
function clearCanvas(){ ctx.clearRect(0,0,canvas.width,canvas.height); }

// Assignment upload
function uploadAssignment(){
  const file=document.getElementById("assignmentFile").files[0];
  if(!file) return alert("Please select a file to upload.");
  document.getElementById("uploadSuccess").style.display="block";
  document.getElementById("uploadSuccess").innerHTML=`‚úÖ Assignment uploaded successfully!<br>File: <strong>${file.name}</strong>`;
  // NOTE: A real implementation would involve sending this file to a server via AJAX.
}

// Initialize
generateQuestions();
</script>
</body>
</html>