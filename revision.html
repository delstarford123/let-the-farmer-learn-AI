<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Learn AI | Tests & Assignments</title>

<!-- CodeMirror for route coding -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/python/python.min.js"></script>

<style>
body { font-family: Arial, sans-serif; background: #f5fff5; margin:0; padding:0; color:#222; }
header { background:#2e7d32; color:white; padding:15px 20px; display:flex; justify-content:space-between; align-items:center; }
header h1 { margin:0; font-size:22px; }
.container { max-width:900px; margin:40px auto; background:white; padding:30px; border-radius:10px; box-shadow:0 0 15px rgba(0,0,0,0.1);}
h2,h3 { color:#2e7d32; text-align:center;}
p { text-align:center; color:#444;}
.question { margin-bottom:20px; padding:15px; background:#f3faf3; border-left:5px solid #2e7d32; border-radius:8px;}
label { display:block; margin:6px 0; cursor:pointer;}
input[type="radio"] { margin-right:8px; accent-color:#2e7d32;}
button { background:#2e7d32; color:white; border:none; padding:12px 25px; border-radius:8px; font-weight:bold; cursor:pointer; display:block; margin:25px auto 0;}
button:hover { background:#1b5e20;}
.result-box { display:none; margin-top:30px; background:#e8f5e9; padding:20px; border-radius:8px; border-left:5px solid #2e7d32; text-align:center;}
textarea,input[type="file"] { width:100%; border:1px solid #ccc; border-radius:6px; padding:10px; margin-bottom:15px; font-size:14px; background:#fff;}
canvas { border:2px dashed #ccc; display:block; margin:10px auto; width:100%; max-width:700px; height:300px; background:#fafafa; cursor:crosshair;}
footer { text-align:center; color:#555; margin-top:60px; font-size:13px; padding-bottom:30px;}
.whatsapp-float { position:fixed; width:60px; height:60px; bottom:25px; right:25px; background-color:#25D366; color:white; border-radius:50%; text-align:center; font-size:28px; line-height:60px; box-shadow:2px 2px 10px rgba(0,0,0,0.3); cursor:pointer;}
.whatsapp-float:hover { background-color:#20b358;}
</style>
</head>
<body>

<header>
<h1>Learn AI | Tests & Assignments</h1>
</header>

<div class="container">
<h2>AI Quiz: 10 Questions</h2>
<p>Select your answers and submit to see your score.</p>

<form id="quizForm"></form>
<button type="button" onclick="gradeQuiz()">Submit Answers</button>
<div class="result-box" id="resultBox"></div>

<!-- Route Coding -->
<div class="assignment-section">
<h3>üßë‚Äçüíª Write Your Route Code</h3>
<textarea id="codeEditor"># Write your Flask/Python route code here</textarea>
<button type="button" onclick="saveCode()">üíæ Save Code</button>
<p id="saveMessage" style="text-align:center; color:#1b5e20; display:none;">‚úÖ Code saved locally!</p>
</div>

<!-- Model Drawing -->
<div class="assignment-section">
<h3>üìà Draw Your Model Architecture</h3>
<canvas id="modelCanvas"></canvas>
<button type="button" onclick="clearCanvas()">üßπ Clear Drawing</button>
</div>

<!-- Assignment Upload -->
<div class="assignment-section">
<h3>üì§ Upload Assignment</h3>
<input type="file" id="assignmentFile" accept=".ipynb,.pdf,.docx,.zip" />
<textarea id="assignmentComment" rows="3" placeholder="Describe your assignment..."></textarea>
<button type="button" onclick="uploadAssignment()">Submit Assignment</button>
<p id="uploadSuccess" style="display:none; color:#1b5e20; text-align:center;">‚úÖ Assignment uploaded successfully!</p>
</div>
</div>

<a href="https://wa.me/254707605751" class="whatsapp-float" target="_blank">üí¨</a>
<footer>¬© 2025 LearnAI | Empowering Future Innovators</footer>

<script>
// Quiz Questions (always updating)
const questionBank = [
  {q:"What does AI stand for?", options:["Artificial Intelligence","Automated Internet","Algorithm Interface","Applied Innovation"], ans:"a"},
  {q:"Which Python library is commonly used for ML?", options:["NumPy","scikit-learn","Pandas","Matplotlib"], ans:"b"},
  {q:"What is supervised learning?", options:["Learning from labeled data","Learning without labels","Random guessing","Reinforcement only"], ans:"a"},
  {q:"Name one AI application in agriculture.", options:["Crop disease detection","Weather apps","Manual irrigation","GPS navigation"], ans:"a"},
  {q:"Which ML algorithm is used for classification?", options:["Linear Regression","Decision Tree","K-Means","PCA"], ans:"b"},
  {q:"Which library is best for deep learning?", options:["TensorFlow/PyTorch","NumPy","Matplotlib","OpenCV"], ans:"a"},
  {q:"What is overfitting?", options:["Model memorizes data","Model generalizes","Model ignores data","Random model"], ans:"a"},
  {q:"What does CNN stand for?", options:["Convolutional Neural Network","Central Neural Node","Compute Neural Net","Classified Network"], ans:"a"},
  {q:"What is gradient descent?", options:["Optimization algorithm","Data storage method","Sorting algorithm","Loss function type"], ans:"a"},
  {q:"What is transfer learning?", options:["Using pre-trained models","Training from scratch only","Random initialization","Data augmentation only"], ans:"a"}
];

// Display questions
function generateQuestions(){
  const form = document.getElementById("quizForm");
  form.innerHTML = questionBank.map((q,i)=>`
    <div class='question'>
      <h4>${i+1}. ${q.q}</h4>
      ${["a","b","c","d"].map((opt,j)=>`
        <label>
          <input type="radio" name="q${i}" value="${["a","b","c","d"][j]}">
          ${["a","b","c","d"][j]}. ${q.options[j]}
        </label>
      `).join("")}
    </div>
  `).join("");
}

// Grade Quiz
function gradeQuiz(){
  let score=0;
  questionBank.forEach((q,i)=>{
    const selected = document.querySelector(`input[name=q${i}]:checked`);
    if(selected && selected.value===q.ans) score++;
  });
  const percent = Math.round((score/questionBank.length)*100);
  const resultBox=document.getElementById("resultBox");
  resultBox.style.display="block";
  resultBox.innerHTML=`<h3>Results</h3><p>Score: ${score}/${questionBank.length} (${percent}%)</p>`;
}

// CODE EDITOR
const editor = CodeMirror.fromTextArea(document.getElementById("codeEditor"), { lineNumbers:true, mode:"python", theme:"default"});
function saveCode(){ localStorage.setItem("studentCode", editor.getValue()); document.getElementById("saveMessage").style.display="block"; setTimeout(()=>document.getElementById("saveMessage").style.display="none",2000); }

// CANVAS
const canvas=document.getElementById("modelCanvas"); const ctx=canvas.getContext("2d"); let drawing=false;
canvas.addEventListener("mousedown",()=>drawing=true); canvas.addEventListener("mouseup",()=>drawing=false);
canvas.addEventListener("mousemove", e=>{ if(!drawing) return; const rect=canvas.getBoundingClientRect(); ctx.fillStyle="#2e7d32"; ctx.beginPath(); ctx.arc(e.clientX-rect.left,e.clientY-rect.top,3,0,Math.PI*2); ctx.fill(); });
function clearCanvas(){ ctx.clearRect(0,0,canvas.width,canvas.height); }

// Assignment upload
function uploadAssignment(){
  const file=document.getElementById("assignmentFile").files[0];
  if(!file) return alert("Please select a file to upload.");
  document.getElementById("uploadSuccess").style.display="block";
  document.getElementById("uploadSuccess").innerHTML=`‚úÖ Assignment uploaded successfully!<br>File: <strong>${file.name}</strong>`;
}

// Initialize
generateQuestions();
</script>
</body>
</html>
